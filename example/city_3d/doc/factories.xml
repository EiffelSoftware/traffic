<?xml version="1.0"?>

<!--
	description:

		"EiffelMedia Widget Library documentation"

	date: "$Date$"
	revision: "$Revision$"
-->

<chapter xmlns="http://www.gobosoft.com/eiffel/gobo/documentation" id="em/widget/scene_management">
<chapterinfo>
	<date>13 September 2005</date>
</chapterinfo>

<title>Widget Library: Scene management</title>

<section>
	<title>Overview</title>
	<para>
		When working with commponents and widgets you have the choice between two scene types:
	</para>
	<itemizedlist>
		<listitem>
			<classname cluster="em.widget">EM_COMPONENT_SCENE</classname>
		</listitem>
		<listitem>
			<classname cluster="em.widget">EM_WIDGET_SCENE</classname>
		</listitem>
	</itemizedlist>
	<para>
		If you use any <link url="components.html">component</link> which is not a 
		<link url="widgets.html">widget</link> the component scene is needed.
		Otherwise you can use the widget scene which has the advantage of being itself 
		a widget and thus has additional properties like a <link url="">background</link>
		and <link url="">border</link>.
	</para>
</section>

<section>
	<title><anchor id="getting_started">Getting started</anchor></title>
	<para>
		There are two ways to use eiter a component scene or a widget scene:
	</para>
	<itemizedlist>
		<listitem>
			<para>
				Create a subclass of the desired scene type and add components or widgets using
				<featurename class="em.widget.em_component_scene">add_component</featurename> or
				<featurename class="em.widget.em_widget_scene">add_widget</featurename>.
				This can either be done in the creator of the class or when redefining 
				<featurename class="em.em_scene">initialize_scene</featurename>.
			</para>
			<note>
				When subclassing an <classname cluster="em.widget">EM_COMPONENT_SCENE</classname> make sure to call
				<featurename class="em.widget.em_component_scene">make_component_scene</featurename> at creation.
			</note>
			<note>
				When subclassing an <classname cluster="em.widget">EM_WIDGET_SCENE</classname> make sure to call
				<featurename class="em.widget.em_widget_scene">make_widget_scene</featurename> at creation.
			</note>
		</listitem>
		<listitem>
			<para>
				Create an object of the scene type and add components or widgets calling 
				<featurename class="em.widget.em_component_scene">add_component</featurename> or 
				<featurename class="em.widget.em_widget_scene">add_widget</featurename> on the object.
			</para>
		</listitem>
	</itemizedlist>
	<para>
		After creation you can set the scene in the <link class="em.em_application">application</link>
		using <featurename class="em.em_application">set_scene</featurename> and start it with
		<featurename class="em.em_application">launch</featurename>. To set and start the successor of a
		component or widget scene use <featurename class="em.widget.em_component_scene">set_next_scene</featurename>
		and <featurename class="em.widget.em_component_scene">start_next_scene</featurename>.
	</para>
	<note>
		When using either of the scene types, the <featurename>main_container</featurename> 
		of <classname cluster="em">EM_SCENE</classname> is ignored! If you want to use 
		<classname cluster="em.video">EM_DRAWABLE</classname>s in your scene use an 
		<classname cluster="em.widget.widgets">EM_DRAWABLE_PANEL</classname>.
	</note>
</section>

</chapter>

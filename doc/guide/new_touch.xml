<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://www.gobosoft.com/eiffel/gobo/documentation" id="guide/new/touch">
<chapterinfo>
	<copyright>
		<year>2006</year>
		<holder>Matthias Loeu</holder>
	</copyright>
    <email>mloeu@inf.ethz.ch</email>
	<date>$Date: 2006-12-14 13:22:06 +0200 (Thu, 14 Dec 2006) $</date>
</chapterinfo>
    <title>Getting Started Guide</title>
	
    <section id="new_touch">
        <title>Touch application</title>
        <para>In the textbook A Touch Of Class there are some example applications throughout. The Touch library contains some simplifications so that Traffic does not overwhelm you. Please skip this section if you don't want to use Touch.</para>
        <para>A Touch application relies (initially) on three classes: a root class, an application class (which is also your root class), a scene class and a class which contains what you want to do.</para>
		<orderedlist>
			<listitem>
				<para>Your “class which contains what you want to do” should be the same as your system name. In this guide I will call this class the “main class”. (Of course you can name your classes whatever you want, but for the sake of consistency you should stick to what is given.) For now, you don't have to do anything here.</para>
			</listitem>
			<listitem>
				<para>The second class is your root class. Name it “NAME_3D_APPLICATION”, where “NAME” is the name of your application and is the same as your root class. In my case it says “SAMPLE_3D_APPLICATION”. This class will contain the main application code.</para>
			</listitem>
			<listitem>
				<para>The third class will be “NAME_3D_SCENE”. In my case, “SAMPLE_3D_SCENE”. Eiffel Media, and thus Traffic renders the stuff in scenes, like for example on a DVD. Usually there is a scene for the menu, a scene for the “loading”-screen, one for the traffic view and so on. Here we will use only one scene to display the 3d map and the toolbars.</para>
			</listitem>
		</orderedlist>
        <para><image src="p/p9.png"/></para>
        <para>First, create a new application, then add the Traffic library as described in the section above. Now create the two additional classes as described above.</para>
		<orderedlist>
			<listitem>
				<para>Now we have to include Touch. Go to your project settings, click “Add library”, click “Browse” and browse to the location where you have unpacked Traffic. Go to the subfolder “library”, “touch” and select “touch.ecf”. Re-compile your application.</para>
				<para><image src="p/p14.png"/></para>
			</listitem>
			<listitem>
				<para>Add the two additional classes described above. They are “SAMPLE” and “SAMPLE_3D_SCENE” here.</para>
				<para><image src="p/p15.png"/></para>
			</listitem>
			<listitem>
				<para>Go back to your main class (“SAMPLE”). Now let it inherit from “TOURISM”.</para>
			</listitem>
			<listitem>
				<para>Add the feature “explore_on_click”. For now it may do nothing.</para>
				<para><image src="p/p16.png"/></para>
			</listitem>
			<listitem>
				<para>Go to your root class. Let this class inherit from “TOUCH_3D_APPLICATION”. Here you have to create two features:</para>
				<orderedlist>
					<listitem>
						<para>The first feature is “set_first_scene”. Here you have to tell your application which scene is the first one. Since we only have one, there isn't much to choose from, right?</para>
					</listitem>
					<listitem>
						<para>1.The second feature is “set_application_specifics”. Here you can set the Window title among other things. You have to set the Window title and the application id! If your application is not located in the examples folder inside the Traffic library as I recommend, you also have to set the window icon.</para>
					</listitem>
				</orderedlist>
				<para><image src="p/p17.png"/></para>
			</listitem>
			<listitem>
				<para>Go to your scene class. This class will inherit from “TOUCH_3D_SCENE”. Additionally, you have to redefine “initialize_scene” and set the “creation feature” to “make_component_scene”. </para>
			</listitem>
			<listitem>
				<para>Create a variable of class “main class”, in my case “SAMPLE”.</para>
			</listitem>
			<listitem>
				<para>Since we want to redefine “initialize_scene”, we have to provide the code ourselves:</para>
				<orderedlist>
					<listitem>
						<para>Add this feature.</para>
					</listitem>
					<listitem>
						<para>Add the line “Precursor”. This will execute everything that was previously defined (here in TOUCH_3D_SCENE).</para>
					</listitem>
					<listitem>
						<para>Create the main class.</para>
					</listitem>
					<listitem>
						<para>Add the following lines to hardwire the code in your main class with the scene.</para>
					</listitem>
				</orderedlist>
				<para><image src="p/p18.png"/></para>
			</listitem>
			<listitem>
				<para>Recompile your application. It should not produce any errors.</para>
			</listitem>
			<listitem>
				<para>Now try to run your application. It should work...</para>
			</listitem>
		</orderedlist>
		<para><image src="p/p19.png"/></para>
    </section>
</chapter>
